{% set version = "5.0.0" %}
{% set posix = 'm2-' if win else '' %}

package:
  name: r-choroplethr
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/choroplethr_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/choroplethr/choroplethr_{{ version }}.tar.gz
  sha256: eeaa23de2d404bf706819fa38bb687f82b3a7f98f81089566e7aa7a9bce71e06

build:
  number: 0
  noarch: generic
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ posix }}zip               # [win]
    - cross-r-base {{ r_base }}    # [build_platform != target_platform]
  host:
    - r-base
    - r-hmisc
    - r-r6
    - r-dplyr
    - r-ggplot2 >=2.0.0
    - r-ggrepel
    - r-rnaturalearth
    - r-sf
    - r-stringr
    - r-tidycensus
    - r-tigris >=1.0
  run:
    - r-base
    - r-hmisc
    - r-r6
    - r-dplyr
    - r-ggplot2 >=2.0.0
    - r-ggrepel
    - r-rnaturalearth
    - r-sf
    - r-stringr
    - r-tidycensus
    - r-tigris >=1.0

test:
  commands:
    - $R -e "library('choroplethr')"           # [not win]
    - "\"%R%\" -e \"library('choroplethr')\""  # [win]

about:
  home: www.choroplethr.com
  license: BSD-3-Clause
  summary: Choropleths are thematic maps where geographic regions, such as states, are colored according to some metric, such as the number of people who live in that state. This package simplifies this process by 1. Providing ready-made functions for creating choropleths of common maps. 2. Providing data and API connections
    to interesting data sources for making choropleths. 3. Providing a framework for creating choropleths from arbitrary shapefiles. 4. Overlaying those maps over reference maps from Google Maps.
  license_family: BSD
  license_file:
    - {{ environ["PREFIX"] }}/lib/R/share/licenses/BSD_3_clause
    - LICENSE

extra:
  recipe-maintainers:
    - conda-forge/r
    - izahn
